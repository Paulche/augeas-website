.. -*- rst -*-
   restindex
     initialheaderlevel: 2
     page-title: Releases
     section-pages: , faq, tour, todo, news, developers
   /restindex

====================
Releases
====================

0.3.3 - 2008-10-24
------------------
- restore the behavior of aug_save; in 0.3.2, aug_save broke API by
  returning the number of files changed on success instead of 0

0.3.2 - 2008-10-21
------------------

- `aug_save` now reports which files were actually changed in
  `/augeas/events/saved`; it also returns the number of files
  that were changed
- preserve file owner, permissions and SELinux context when changing a file.
- make saving idempotent, i.e. when a change to the tree does not result
  in changes to the actual file's content, do not touch the original file
- report an error if there are nodes in the tree with a label that
  is not allowed by the lens
- quietly append a newline to files that do not have one
- generate lens documentation using NaturalDocs and publish those
  on the Auegas website (Raphael Pinson)
- Lens changes/additions

  * Grub: support the 'password' directive (Joel Nimety)
  * Grub: support 'serial' and 'terminal' directives (Sean E. Millichamp)
  * Samba: change default indentation and separators (Free Ekanayaka)
  * Logrotate: process tabooext, add dateext flag (Sean E. Millichamp)
  * Sshd: Cleaner handling of 'Match' blocks (Dominique Dumont)
  * Monit: new lens (Free Ekanayaka)
  * Ldap: merge with Spacevars (Free Ekanayaka)
  * Shellvars: support /etc/default (Free Ekanayaka)
  * Shellvars: handle space at the end of a line

0.3.1 - 2008-09-04
------------------

- Major performance improvement when processing huge files, reducing some
  O(n^2) behavior to O(n) behavior. It's now entirely feasible to
  manipulate for example `/etc/hosts` files with 65k lines
- Handle character escapes in regular expressions in compliance with
  Posix ERE
- `aug_mv`: fix bug when moving at the root level
- Fix endless loop when using a mixed-case module name like MyMod.lns
- Typecheck del lens: for `del RE STR`, STR must match RE
- Properly typecheck the '?' operator, especially the atype; also allow
  '?' to be applied to lenses that contain only 'store', and do not
  produce tree nodes.

New/improved lenses
+++++++++++++++++++

* Many lenses now map comments as `#comment` nodes instead of just
  deleting them
* Sudoers: added (Raphael Pinson)
* Hosts: map comments into tree, handle whitespace and comments at the end of a line (Kjetil Homme)
* Xinetd: allow indented comments and spaces around braces (Raphael Pinson)
* Pam: allow comments at the end of lines and leading spaces (Raphael Pinson)
* Fstab: map comments and support empty lines (Raphael Pinson)
* Inifile: major revamp (Raphael Pinson)
* Puppet: new lens for `/etc/puppet.conf` (Raphael Pinson)
* Shellvars: handle quoted strings and arrays (Nahum Shalman)
* Php: map entries outside of sections to a `.anon` section (Raphael Pinson)
* Ldap: new lens for `/etc/ldap.conf` (Free Ekanayaka)
* Dput: add `allowed_distributions` entry (Free Ekanayaka)
* OpenVPN: new lens for `/etc/openvpn/{client,server}.conf` (Raphael Pinson)
* Dhclient: new lens for `/etc/dhcp3/dhclient.conf` (Free Ekanayaka)
* Samba: new lens for `/etc/samba/smb.conf` (Free Ekanayaka)
* Slapd: new lens for `/etc/ldap/slapd.conf` (Free Ekanayaka)
* Dnsmasq: new lens for `/etc/dnsmasq.conf` (Free Ekanayaka)
* Sysctl: new lens for `/etc/sysctl.conf` (Sean Millichamp)

0.3.0 - 2008-08-07
------------------

- Add aug_mv call to public API
- Do not clobber symlinks, instead write new files to target of symlink
- Fail 'put' when tree has invalid entries
- Set exit status of augtool
- Avoid picking special characters, in particular '\0', in examples (libfa)
- Store system errors, using strerror, in the tree during writing of files
- New lenses

  * Generic inifile module (Raphael Pinson)
  * logrotate (Raphael Pinson)
  * /etc/ntp.conf (Raphael Pinson)
  * /etc/apt/preferences (Raphael Pinson)
  * bbhosts for Big Brother [http://www.bb4.org/] (Raphael Pinson)
  * php.ini (Raphael Pinson)

0.2.2 - 2008-07-18
------------------

- Fix segfault in store.put on NULL values
- Properly move default lens dir with DATADIR (Jim Meyering)
- Fix 'short iteration' error on get/parse of empty string; this bug
  made it impossible to save into a new file
- Add 'insa' and 'insb' primitives to allow insertion from
  put unit tests
- aug_insert: handle insertion before first child properly
- New lenses

  * /etc/exports: NFS exports
  * /etc/dput.cf: Debian's dput (Raphael Pinson)
  * /etc/aliases: don't require whitespace after comma (Greg Swift)

0.2.1 - 2008-07-01
------------------

- Address some compilation issues found on Ubuntu/Debian unstable
- Fix segfault when `aug_init/close` are called multiple times
- Man page for `augparse`
- New lens for `/etc/sysconfig/selinux`, bugfixes for `grub.conf`


0.2.0 - 2008-06-05
-------------------
- Augeas is now much more portable

  * Pull in gnulib on non-glibc systems
  * Augeas now builds and runs on FreeBSD (possibly others, too)

- Various fixes for memory corruption and the like (Jim Meyering, James Antill)
- New lenses

  * vsftpd.conf
  * various bugfixes in existing lenses

0.1.1 - 2008-05-16
--------------------

- Add subtraction of regexps to the language, for example ``let re =
  /[a-z]+/ - /(Allow|Deny)Users/`` is now legal
- Report errors during get/put in the tree; added subnodes to
  ``/augeas/files/PATH/error`` for that purpose
- Many many bugfixes:

  - plugged all known memory leaks
  - fixed typecheck for lens union (l1 | l2) which was plain wrong
  - reduce overall memory usage by releasing unused compiled regexps
  - further performance improvements in libfa
  - check that values match the regexps in STORE when saving

- libfa can now convert an automaton back to a regular expression
  (FA_AS_REGEXP)
- New lenses for ``/etc/fstab``, ``/etc/xinetd.conf`` and ``/etc/xinetd.d/*``


0.1.0 - 2008-05-01
--------------------

- Various changes to public API:

  * Remove aug_exists from public API, and merge functionality into aug_get
  * Do not hide pointer behind typedef; instead Augeas 'handle' type is now
    struct augeas, typedef'd to augeas (Jim Meyering)
  * Const-correctness of public API, return error indication
    from aug_print (Jim Meyering)
  * Make buildable on Debian Etch (remove -fstack-protector from compiler
    switches)

- Public API is now stable, and existing calls will be supported without
  further changes
- New schema:

  * /etc/sysconfig/network-scripts/ifcfg-* (Alan Pevec)
  * Assorted other files from /etc/sysconfig (the ones that just set
    shell variables)
  * /etc/apt/sources.list and /etc/apt/sources.list.d/* (Dean Wilson)

- Man page for augtool (Dean Wilson)

0.0.8 - 2008-04-16
--------------------

- Complete rewrite of the language for schema descriptions

0.0.7 - 2008-03-14
--------------------

- Typecheck lenses; in particular, discover and complain about ambiguous
  concatenation and iteration
- Enable typechecking for augparse by default, and for augtool via the
  '-c' flag
- Fixed lens definitions in spec/ to pass typechecking. They contained
  quite a few stupid and subtle problems
- Greatly improved libfa performance to make typechecking reasonably
  fast. Typechecking cmfm.aug went from more than two hours to under two
  seconds

0.0.6 - 2008-03-05
--------------------

- Make it possible to overwrite files when saving with and without
  backups
- Take the filesystem root as an optional argument to aug_init
- Expose these two things as command line options in augtool


0.0.5 - 2008-03-05
--------------------

- Changed public API to contain explicit reference to augeas_t
  structure. This makes it easier to write threadsafe code using Augeas
- Added libfa, finite automata library, though it's not yet used by
  Augeas

0.0.4 - 2008-02-25
--------------------

- package as RPM and make sure Augeas can be build on Fedora/RHEL

0.0.3 - 2008-02-25
--------------------

- further rework; file processing now resembles Boomerang lenses much
  more closely
- major revamp of the internal tree representation (ordered tree where
  multiple children can have the same label, including NULL labels)
- move away from LL(1) parsing in favor of regular languages, since they
  enable much better ahead-of-time checks (which are not implemented yet)

0.0.2 - 2008-01-29:
--------------------

- completely reworked
- processing of files is now based on a textual description of the
  structure of the files (basically a LL(1) grammar)

0.0.1 - 2007-12-01:
--------------------

- First release.
- Public API and basic tree data structure.
- Record scanning works.
- Providers for pam.d, inittab and /etc/hosts
- Simple tests and test driver
